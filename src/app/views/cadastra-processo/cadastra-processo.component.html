<div class="authentication">

  <mat-accordion>
    <mat-expansion-panel *ngFor="let processo of processos" (opened)="carregarDadosProcesso(processo)" hideToggle>
      <mat-expansion-panel-header *ngIf="!processo.id">
        <mat-panel-title>
          <mat-icon color="primary">add_box</mat-icon>
          Cadastrar novo processo
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-expansion-panel-header *ngIf="processo.id">
        <mat-panel-title>
          <mat-icon color="primary">arrow_forward</mat-icon>
          <b style="padding-right:1em">Número do processo: </b> {{ processo.nrProcesso }}
        </mat-panel-title>
      </mat-expansion-panel-header>
  
      <mat-form-field appearance="fill" style="width:400px !important">
        <mat-label>Número do processo</mat-label>
        <input type="number" onkeydown="if(event.key==='.'){event.preventDefault();}"  oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" matInput [(ngModel)]="processoSelecionado.nrProcesso">
      </mat-form-field>
      <br>
      <mat-form-field appearance="fill" style="width:400px !important">
        <mat-label>Nome do réu</mat-label>
        <input matInput [(ngModel)]="processoSelecionado.nmReu">
      </mat-form-field>
      <br>
      <mat-form-field appearance="fill" style="width:400px !important">
        <mat-label>Usuário Responsável
        </mat-label>
        <mat-select [(ngModel)]="processoSelecionado.idUsuario">
          <mat-option>Selecione</mat-option>
          <mat-option *ngFor="let usuario of usuarios" [value]="usuario.id">{{ usuario.nomeCompleto }} - {{ usuario.email }}</mat-option>
        </mat-select>
      </mat-form-field>
  <!-- #docregion action-bar -->
      <mat-action-row>
        <button mat-button style="background-color: lightgreen" (click)="salvarProcesso()">Salvar</button>
        <button mat-button style="background-color: yellow" (click)="cancelar()">Cancelar</button>
        <button mat-button style="background-color: red" (click)="excluir(processo)">Excluir</button>
      </mat-action-row>
  <!-- #enddocregion action-bar -->
    </mat-expansion-panel>
  </mat-accordion>
  <br><br>
  <div class="joga-pra-direita">
    <button style="background-color: #555555; color:white" (click)="efetuarLogout()" mat-raised-button>Efetuar Logout</button>
  </div>
  
</div>